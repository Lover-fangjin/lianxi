<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <link href="/pace/themes/pace-theme-barber-shop.css" rel="external nofollow"  rel="stylesheet" />
    </head>
    <style>
        p{
            font-size: 30px;
        }
    </style>
    <body>
    <div class="box">
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
        <p>房金</p>
    </div>
        
     
        
        <script src="js/zepto.min.js"></script>
        <!-- <script src="js/pace.js"></script> -->
        <script>
            
            $(window).scroll(function(){

                var scrollTop = $(window).scrollTop() ;    //滚动条距离顶部的高度
                var scrollHeight = $(document).height();   //当前页面的总高度
                // var clientHeight = $(this).height();
                var clientHeight = $(window).height();
                function LoadingDataFn(){
                    var str='';
                    for(var i=0; i<1; i++){
                        str+='<p>我是新数据哦</p>'
                    }
                    
                    $('.box').append(str)
                }

                //     -----------------------------------
                var page = 1, //分页码
                off_on = false, //分页开关(滚动加载方法 1 中用的)
                timers = null; //定时器(滚动加载方法 2 中用的)

                //加载数据
                // var LoadingDataFn = function() {
                //     var dom = '';
                //     for (var i = 0; i < 20; i++) {
                //         dom += '<li><img src="http://www.jq22.com/img/cs/500x500a.png"/><span>上滑列加载表内容上滑列加载表内容上滑列加载表内容上滑列加载表内容</span></li>';
                //     }
                //     $('.box').append(dom);
                //     off_on = true; //[重要]这是使用了 {滚动加载方法1}  时 用到的 ！！！[如果用  滚动加载方法1 时：off_on 在这里不设 true的话， 下次就没法加载了哦！]
                // };

                //初始化， 第一次加载
                $(document).ready(function() {
                    LoadingDataFn();
                });

            // //滚动加载方法2
            // $('#main').scroll(function() {
            //     //当时滚动条离底部60px时开始加载下一页的内容
            //     if (($(this)[0].scrollTop + $(this).height() + 60) >= $(this)[0].scrollHeight) {
            //         clearTimeout(timers);
            //         //这里还可以用 [ 延时执行 ] 来控制是否加载 （这样就解决了 当上页的条件满足时，一下子加载多次的问题啦）
            //         timers = setTimeout(function() {
            //             page++;
            //             console.log("第" + page + "页");
            //             LoadingDataFn(); //调用执行上面的加载方法
            //         }, 300);
            //     }
            // });

            //还可以基window窗口（body）来添加滚动事件, (因为布局不同,所以在这里没效果，因为[上面是基于body中的某个元素来添加滚动事的])
            $(window).scroll(function() {
                //当时滚动条离底部60px时开始加载下一页的内容
                if (($(window).height() + $(window).scrollTop() + 60) >= $(document).height()) {
                    clearTimeout(timers);
                    timers = setTimeout(function() {
                        page++;
                        console.log("第" + page + "页");
                        LoadingDataFn();
                    }, 300);
                }
            });

            })
        </script>
    </body>
</html>

<!-- 
    <head>
        <meta charset="UTF-8">
        <title></title>
        <style>
            * {
                margin: 0;
                padding: 0;
            }
            
            #wrapper {
                background: #fff;
                opacity: 1;
                position: fixed;
                z-index: 10;
                top: 0px;
                width: 100%;
                height: 1600px;
            }
            
            #loader {
                background: url('http://img.zcool.cn/community/01909155a905dc32f875495ea197c9.gif') 50% 50% no-repeat #fff;
                width: 200px;
                height: 200px;
                margin: 300px auto;
            }
        </style>
        <script>
            window.addEventListener("load", function() {
                var wrapper = document.getElementById("wrapper");
                document.body.removeChild(wrapper);
            });
        </script>
    </head>

    <body>
        <div id="wrapper">
            <div id="loader"></div>
        </div>
        <span>动画加载完毕</span>
    </body>

</html> -->

